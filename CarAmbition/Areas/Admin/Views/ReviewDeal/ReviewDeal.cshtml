@using PagedList.Mvc;
@model PagedList.IPagedList<CarAmbition.Models.BangTam>

@{
    ViewBag.Title = "ReviewDeal";
    Layout = "~/Areas/Admin/Views/AdminLayout/AdminLayout.cshtml";
}
<link href="~/Content/PagedList.css" rel="stylesheet" />
<h1>Quản Lý Feedback</h1>
<div style="overflow:auto">
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.First().MaTam)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().HangXe)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().LoaiXe)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().NamSanXuat)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().PhienBan)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().XuatXu)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().TinhTrang)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().MauNgoaiThat)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().MauNoiThat)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().DangXe)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().SoKm)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().GiaBan)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().DonVi)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().SoCua)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().SoCho)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().HopSo)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().DanDong)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().NhienLieu)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().MucTieuThu)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().NgayDang)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().TaiKhoan)
            </th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.MaTam)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.HangXe)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.LoaiXe)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NamSanXuat)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.PhienBan)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.XuatXu)
                </td>
                <td>
                    @if (item.TinhTrang == true)
                    {
                        @Html.Encode("Mới")
                    }
                    @if (item.TinhTrang == false)
                    {
                        @Html.Encode("Cũ")
                    }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MauNgoaiThat)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MauNoiThat)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DangXe)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SoKm)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.GiaBan)
                </td>
                <td>
                    @if (item.DonVi == true)
                    {
                        @Html.Encode("Triệu Đồng")
                    }
                    @if (item.DonVi == false)
                    {
                        @Html.Encode("USD")
                    }
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SoCua)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.SoCho)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.HopSo)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.DanDong)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NhienLieu)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.MucTieuThu)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NgayDang)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.TaiKhoan)
                </td>
                <td>
                    @if (Model.PageNumber == 1)
                    {
                        @Html.ActionLink("Duyệt", "Approve", new { id = item.MaTam, page = 1 })
                        <span>|</span>
                        @Html.ActionLink("Xóa", "Delete", new { @id = item.MaTam, page = 1 })
                    }
                    else
                    {
                        @Html.ActionLink("Duyệt", "Approve", new { @id = item.MaTam, page = ViewBag.Page })
                        <span>|</span>
                        @Html.ActionLink("Xóa", "Delete", new { @id = item.MaTam, page = ViewBag.Page })
                    }
                </td>
            </tr>
        }
    </table>
    <table class="table">
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.First().TieuDe)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.First().NoiDung)
            </th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.TieuDe)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.NoiDung)
                </td>
            </tr>
        }
    </table>
</div>
@if (Model.PageCount > 1)
{
    <p>
        Trang @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) / @Model.PageCount
        @Html.PagedListPager(Model, page => @Url.Action("ReviewDeal", new { page = page }))
    </p>
}